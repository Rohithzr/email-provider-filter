<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Email Provider Filter - Domain Lookup</title>
<style>
  :root {
    --bg: #ffffff;
    --bg-card: #f8f9fa;
    --text: #1a1a2e;
    --text-muted: #6c757d;
    --border: #dee2e6;
    --primary: #4361ee;
    --primary-hover: #3a56d4;
    --badge-disposable: #e63946;
    --badge-free: #2a9d8f;
    --badge-paid: #e9c46a;
    --badge-business: #457b9d;
    --input-bg: #ffffff;
    --shadow: 0 2px 8px rgba(0,0,0,0.08);
    --code-bg: #f1f3f5;
    --tab-bg: #e9ecef;
    --tab-active: #ffffff;
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --bg: #0d1117;
      --bg-card: #161b22;
      --text: #e6edf3;
      --text-muted: #8b949e;
      --border: #30363d;
      --primary: #58a6ff;
      --primary-hover: #79b8ff;
      --input-bg: #0d1117;
      --shadow: 0 2px 8px rgba(0,0,0,0.3);
      --code-bg: #1c2128;
      --tab-bg: #21262d;
      --tab-active: #161b22;
    }
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem 1rem;
  }
  .container { max-width: 640px; width: 100%; }
  h1 { font-size: 1.75rem; margin-bottom: 0.25rem; }
  h2 { font-size: 1.2rem; margin-bottom: 0.75rem; }
  .tagline { color: var(--text-muted); margin-bottom: 2rem; font-size: 0.95rem; }
  .search-box {
    position: relative;
    margin-bottom: 1.5rem;
  }
  .search-box input {
    width: 100%;
    padding: 0.85rem 1rem;
    font-size: 1.1rem;
    border: 2px solid var(--border);
    border-radius: 10px;
    background: var(--input-bg);
    color: var(--text);
    outline: none;
    transition: border-color 0.2s;
  }
  .search-box input:focus { border-color: var(--primary); }
  .search-box input::placeholder { color: var(--text-muted); }
  .result {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
    display: none;
    box-shadow: var(--shadow);
  }
  .result.visible { display: block; }
  .result-header {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    margin-bottom: 0.5rem;
  }
  .result-favicon {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    flex-shrink: 0;
    display: none;
    object-fit: contain;
  }
  .result-favicon.loaded { display: block; }
  .result-domain { font-size: 1.15rem; font-weight: 600; word-break: break-all; }
  .result-company {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-bottom: 0.5rem;
    display: none;
  }
  .result-company.visible { display: block; }
  .badge {
    display: inline-block;
    padding: 0.2rem 0.65rem;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #fff;
  }
  .badge-disposable { background: var(--badge-disposable); }
  .badge-free { background: var(--badge-free); }
  .badge-paid { background: var(--badge-paid); }
  .badge-business { background: var(--badge-business); }
  .result-desc { color: var(--text-muted); font-size: 0.9rem; margin-top: 0.4rem; }
  .stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    gap: 0.75rem;
    margin-bottom: 2rem;
  }
  .stat-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1rem;
    text-align: center;
    box-shadow: var(--shadow);
  }
  .stat-card .num { font-size: 1.35rem; font-weight: 700; }
  .stat-card .label { font-size: 0.78rem; color: var(--text-muted); margin-top: 0.2rem; }
  .snippets {
    margin-bottom: 2rem;
  }
  .tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid var(--border);
    margin-bottom: 0;
  }
  .tab {
    padding: 0.5rem 1rem;
    font-size: 0.82rem;
    font-weight: 600;
    cursor: pointer;
    background: var(--tab-bg);
    border: 1px solid var(--border);
    border-bottom: none;
    border-radius: 8px 8px 0 0;
    color: var(--text-muted);
    margin-right: -1px;
  }
  .tab.active {
    background: var(--code-bg);
    color: var(--text);
    border-bottom: 1px solid var(--code-bg);
    position: relative;
    z-index: 1;
  }
  .code-panel {
    display: none;
    background: var(--code-bg);
    border: 1px solid var(--border);
    border-top: none;
    border-radius: 0 0 10px 10px;
    padding: 1rem;
    overflow-x: auto;
  }
  .code-panel.active { display: block; }
  .code-panel pre {
    margin: 0;
    font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
    font-size: 0.8rem;
    line-height: 1.5;
    white-space: pre;
    color: var(--text);
  }
  .loading {
    text-align: center;
    padding: 3rem 0;
    color: var(--text-muted);
  }
  .error {
    text-align: center;
    padding: 2rem;
    color: var(--badge-disposable);
    background: var(--bg-card);
    border-radius: 10px;
    border: 1px solid var(--border);
  }
  footer {
    margin-top: auto;
    padding-top: 2rem;
    text-align: center;
    font-size: 0.85rem;
    color: var(--text-muted);
  }
  footer a { color: var(--primary); text-decoration: none; }
  footer a:hover { text-decoration: underline; }
</style>
</head>
<body>
<div class="container">
  <h1>Email Provider Filter</h1>
  <p class="tagline">148,000+ email domains classified as disposable, free, or paid</p>

  <div class="search-box">
    <input type="text" id="input" placeholder="Enter email or domain (e.g. user@gmail.com)" autofocus>
  </div>

  <div class="result" id="result">
    <div class="result-header">
      <img class="result-favicon" id="result-favicon" alt="">
      <div class="result-domain" id="result-domain"></div>
    </div>
    <div class="result-company" id="result-company"></div>
    <div id="result-badge"></div>
    <div class="result-desc" id="result-desc"></div>
  </div>

  <div id="stats-area">
    <p class="loading" id="loading">Loading dataset...</p>
  </div>

  <div class="snippets">
    <h2>Use in your project</h2>
    <div class="tabs">
      <div class="tab active" data-lang="js">JavaScript</div>
      <div class="tab" data-lang="python">Python</div>
      <div class="tab" data-lang="php">PHP</div>
    </div>
    <div class="code-panel active" id="panel-js"><pre>const resp = await fetch(
  "https://raw.githubusercontent.com/Rohithzr/email-provider-filter/main/output/email_domains.json"
);
const data = await resp.json();

const disposable = new Set(data.domains.disposable);
const free = new Set(data.domains.free);

function classify(email) {
  const domain = email.split("@").pop().toLowerCase();
  if (disposable.has(domain)) return "disposable";
  if (free.has(domain))       return "free";
  return "business";
}

console.log(classify("user@gmail.com"));    // "free"
console.log(classify("ceo@company.com"));   // "business"</pre></div>
    <div class="code-panel" id="panel-python"><pre>import json, urllib.request

data = json.loads(urllib.request.urlopen(
    "https://raw.githubusercontent.com/Rohithzr/email-provider-filter/main/output/email_domains.json"
).read())

disposable = set(data["domains"]["disposable"])
free = set(data["domains"]["free"])

def classify(email: str) -> str:
    domain = email.rsplit("@", 1)[-1].lower()
    if domain in disposable:
        return "disposable"
    if domain in free:
        return "free"
    return "business"

print(classify("user@gmail.com"))    # free
print(classify("ceo@company.com"))   # business</pre></div>
    <div class="code-panel" id="panel-php"><pre>$json = file_get_contents(
    "https://raw.githubusercontent.com/Rohithzr/email-provider-filter/main/output/email_domains.json"
);
$data = json_decode($json, true);

$disposable = array_flip($data["domains"]["disposable"]);
$free       = array_flip($data["domains"]["free"]);

function classify(string $email): string {
    global $disposable, $free;
    $domain = strtolower(explode("@", $email)[1]);
    if (isset($disposable[$domain])) return "disposable";
    if (isset($free[$domain]))       return "free";
    return "business";
}

echo classify("user@gmail.com");    // free
echo classify("ceo@company.com");   // business</pre></div>
  </div>
</div>

<footer>
  <p>Data from <a href="https://github.com/Rohithzr/email-provider-filter">email-provider-filter</a> &middot; Updated daily</p>
</footer>

<script>
(function() {
  var DATA_URL = 'https://raw.githubusercontent.com/Rohithzr/email-provider-filter/main/output/email_domains.json';
  var sets = {};

  var $ = function(id) { return document.getElementById(id); };

  function extractDomain(input) {
    input = input.trim().toLowerCase();
    if (input.includes('@')) input = input.split('@').pop();
    input = input.replace(/^www\./, '');
    // Must contain at least one dot to be a valid domain
    if (!input.includes('.')) return '';
    return input;
  }

  function domainToName(domain) {
    var parts = domain.split('.');
    if (parts.length > 2) {
      var last2 = parts.slice(-2).join('.');
      var shortSLDs = ['co.uk','com.br','com.au','co.in','co.jp','co.kr','com.mx','com.cn','com.tw','co.nz','co.za'];
      if (shortSLDs.indexOf(last2) !== -1) parts = parts.slice(0, -2);
      else parts = parts.slice(0, -1);
    } else {
      parts = parts.slice(0, -1);
    }
    var name = parts.join(' ');
    return name.replace(/\b\w/g, function(c) { return c.toUpperCase(); });
  }

  function lookup(domain) {
    var el = $('result');
    var domEl = $('result-domain');
    var badgeEl = $('result-badge');
    var descEl = $('result-desc');
    var faviconEl = $('result-favicon');
    var companyEl = $('result-company');

    if (!domain) { el.classList.remove('visible'); return; }

    domEl.textContent = domain;
    el.classList.add('visible');

    // Favicon via Google S2
    faviconEl.classList.remove('loaded');
    faviconEl.src = '';
    var img = new Image();
    img.onload = function() {
      faviconEl.src = img.src;
      faviconEl.classList.add('loaded');
    };
    img.src = 'https://www.google.com/s2/favicons?domain=' + encodeURIComponent(domain) + '&sz=32';

    // Derive company name from domain
    var company = domainToName(domain);
    if (company && company.length > 1) {
      companyEl.textContent = company;
      companyEl.classList.add('visible');
    } else {
      companyEl.classList.remove('visible');
    }

    if (sets.disposable.has(domain)) {
      badgeEl.innerHTML = '<span class="badge badge-disposable">Disposable</span>';
      descEl.textContent = 'This is a temporary/throwaway email domain. Likely used to bypass signups.';
    } else if (sets.free.has(domain)) {
      badgeEl.innerHTML = '<span class="badge badge-free">Free</span>';
      descEl.textContent = 'This is a free personal email provider (e.g. Gmail, Yahoo).';
    } else if (sets.paid_personal.has(domain)) {
      badgeEl.innerHTML = '<span class="badge badge-paid">Paid Personal</span>';
      descEl.textContent = 'This is a paid personal email service (e.g. Hey, Fastmail).';
    } else {
      badgeEl.innerHTML = '<span class="badge badge-business">Business / Unknown</span>';
      descEl.textContent = 'Not in our dataset. Likely a business or custom domain.';
    }
  }

  function renderStats(meta) {
    var c = meta.categories;
    var total = meta.total_domains.toLocaleString();
    var updated = new Date(meta.generated).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });

    $('stats-area').innerHTML =
      '<div class="stats">' +
        '<div class="stat-card"><div class="num">' + total + '</div><div class="label">Total Domains</div></div>' +
        '<div class="stat-card"><div class="num">' + c.disposable.toLocaleString() + '</div><div class="label">Disposable</div></div>' +
        '<div class="stat-card"><div class="num">' + c.free.toLocaleString() + '</div><div class="label">Free</div></div>' +
        '<div class="stat-card"><div class="num">' + c.paid_personal.toLocaleString() + '</div><div class="label">Paid Personal</div></div>' +
      '</div>' +
      '<p style="text-align:center;font-size:0.82rem;color:var(--text-muted);">Last updated: ' + updated + '</p>';
  }

  // Tab switching
  document.querySelectorAll('.tab').forEach(function(tab) {
    tab.addEventListener('click', function() {
      document.querySelectorAll('.tab').forEach(function(t) { t.classList.remove('active'); });
      document.querySelectorAll('.code-panel').forEach(function(p) { p.classList.remove('active'); });
      tab.classList.add('active');
      $('panel-' + tab.dataset.lang).classList.add('active');
    });
  });

  async function init() {
    try {
      var resp = await fetch(DATA_URL);
      if (!resp.ok) throw new Error('HTTP ' + resp.status);
      var data = await resp.json();

      sets.disposable = new Set(data.domains.disposable);
      sets.free = new Set(data.domains.free);
      sets.paid_personal = new Set(data.domains.paid_personal);

      renderStats(data.metadata);

      $('input').addEventListener('input', function() {
        lookup(extractDomain(this.value));
      });
    } catch (e) {
      $('stats-area').innerHTML = '<div class="error">Failed to load dataset. <br><small>' + e.message + '</small></div>';
    }
  }

  init();
})();
</script>
</body>
</html>
